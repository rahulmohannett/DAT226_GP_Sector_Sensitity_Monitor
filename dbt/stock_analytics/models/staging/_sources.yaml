version: 2

sources:
  - name: raw
    database: "{{ var('db_name', 'USER_DB_OSTRICH') }}"
    schema: "{{ var('raw_schema', 'RAW') }}"
    tables:
      - name: MARKET_DATA
        description: "Raw OHLCV data from Yahoo Finance (SPY + Sectors)"

  # ADD THIS SECTION BELOW
  - name: analytics
    database: "{{ var('db_name', 'USER_DB_OSTRICH') }}"
    # IMPORTANT: This must match the schema where Airflow writes the predictions.
    # If your dbt profile defaults to PUBLIC, this is likely 'PUBLIC_ANALYTICS'
    schema: PUBLIC_ANALYTICS 
    tables:
      - name: sector_volatility_prediction
        description: "ML Forecast results generated by Airflow/Cortex"